CREATE TABLE ADMIN_USER_GROUP (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  NAME               VARCHAR(255) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE ADMIN_USER_AUTHORITY (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  NAME               VARCHAR(255) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE CUSTOMER (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 40000 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  CITY               VARCHAR(255) NOT NULL,
  COMPANY_NAME       VARCHAR(255) NOT NULL,
  COUNTRY            VARCHAR(255) NOT NULL,
  POSTCODE           VARCHAR(255) NOT NULL,
  STREET             VARCHAR(255) NOT NULL,
  STREET2            VARCHAR(255) NOT NULL,
  VATID              VARCHAR(255),
  PARENT_ID          BIGINT,
  PRIMARY KEY (ID)
);

CREATE TABLE CUSTOMER_CONTACT (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  EMAIL_ADDRESS      VARCHAR(255) NOT NULL,
  FAX                VARCHAR(255) NOT NULL,
  FIRST_NAME         VARCHAR(255) NOT NULL,
  MOBILE_PHONE       VARCHAR(255) NOT NULL,
  PHONE              VARCHAR(255) NOT NULL,
  SALUTATION         VARCHAR(255) NOT NULL,
  SURNAME            VARCHAR(255) NOT NULL,
  TYPE               VARCHAR(255) NOT NULL,
  CUSTOMER_ID        BIGINT       NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE CUSTOMER_USER_ACCOUNT (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  ACTIVE             BOOLEAN      NOT NULL,
  BLOCKED            BOOLEAN      NOT NULL,
  CREATED            TIMESTAMP    NOT NULL,
  EMAIL              VARCHAR(255) NOT NULL,
  FIRST_NAME         VARCHAR(255) NOT NULL,
  PASSWORD           VARCHAR(255) NOT NULL,
  SALT               VARCHAR(255),
  SURNAME            VARCHAR(255) NOT NULL,
  USERNAME           VARCHAR(255) NOT NULL,
  SALUTATION         VARCHAR(255) NOT NULL,
  CUSTOMER_ID        BIGINT       NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE DASHBOARD (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  ICON               VARCHAR(255) NOT NULL,
  NAME               VARCHAR(255) NOT NULL,
  USER_ACCOUNT_ID    BIGINT       NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE DASHBOARD_BOX (
  ID                    BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE    TIMESTAMP    NOT NULL,
  VERSION               BIGINT       NOT NULL,
  DESCRIPTION           VARCHAR(255) NOT NULL,
  HEIGHT                VARCHAR(255) NOT NULL,
  NAME                  VARCHAR(255) NOT NULL,
  ORDER_NUMBER          INTEGER      NOT NULL,
  WIDTH                 VARCHAR(255) NOT NULL,
  DASHBOARD_ID          BIGINT       NOT NULL,
  DASHBOARD_BOX_TYPE_ID BIGINT       NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE DASHBOARD_BOX_TYPE (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  KIND               VARCHAR(255) NOT NULL,
  NAME               VARCHAR(255) NOT NULL,
  TYPE               VARCHAR(255) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE ADMIN_USER_ROLE (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  NAME               VARCHAR(255) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE USER_ACCOUNT (
  ID                 BIGINT GENERATED BY DEFAULT AS IDENTITY (
  START WITH 1 ),
  LAST_MODIFIED_DATE TIMESTAMP    NOT NULL,
  VERSION            BIGINT       NOT NULL,
  ACTIVE             BOOLEAN      NOT NULL,
  BLOCKED            BOOLEAN      NOT NULL,
  CREATED            TIMESTAMP    NOT NULL,
  EMAIL              VARCHAR(255) NOT NULL,
  FIRST_NAME         VARCHAR(255) NOT NULL,
  PASSWORD           VARCHAR(255) NOT NULL,
  SALT               VARCHAR(255),
  SURNAME            VARCHAR(255) NOT NULL,
  USERNAME           VARCHAR(255) NOT NULL,
  SALUTATION         VARCHAR(255) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE ADMIN_USER_GROUP_AUTHORITY (
  GROUP_ID     BIGINT NOT NULL,
  AUTHORITY_ID BIGINT NOT NULL,
  PRIMARY KEY (AUTHORITY_ID, GROUP_ID)
);

CREATE TABLE ADMIN_USER_AUTHORITY_USER (
  USER_ID      BIGINT NOT NULL,
  AUTHORITY_ID BIGINT NOT NULL,
  PRIMARY KEY (AUTHORITY_ID, USER_ID)
);

CREATE TABLE ADMIN_USER_GROUP_USER (
  USER_ID  BIGINT NOT NULL,
  GROUP_ID BIGINT NOT NULL,
  PRIMARY KEY (GROUP_ID, USER_ID)
);

CREATE TABLE ADMIN_USER_ROLE_USER (
  ROLE_ID BIGINT NOT NULL,
  USER_ID BIGINT NOT NULL,
  PRIMARY KEY (ROLE_ID, USER_ID)
);

ALTER TABLE ADMIN_USER_GROUP
  ADD CONSTRAINT UK_nykfr0dcxfoe34yxvvdnjhcnb UNIQUE (NAME);

ALTER TABLE ADMIN_USER_AUTHORITY
  ADD CONSTRAINT UK_ana6i0racv9b9d5dx3mlwho9p UNIQUE (NAME);

ALTER TABLE CUSTOMER_CONTACT
  ADD CONSTRAINT UK_rt1h2souk5fkc2l0yojlch8ng UNIQUE (EMAIL_ADDRESS);

ALTER TABLE CUSTOMER_USER_ACCOUNT
  ADD CONSTRAINT UK_ocoo1ta18u6p16unw7h8b7i8h UNIQUE (USERNAME);

ALTER TABLE DASHBOARD
  ADD CONSTRAINT UK_k452w4cpbviagh85ll1q6gfc UNIQUE (NAME);

ALTER TABLE DASHBOARD_BOX_TYPE
  ADD CONSTRAINT UK_calopw9wexb9vek0fnkaotp2n UNIQUE (NAME);

ALTER TABLE ADMIN_USER_ROLE
  ADD CONSTRAINT UK_lqaytvswxwacb7s84gcw7tk7l UNIQUE (NAME);

ALTER TABLE USER_ACCOUNT
  ADD CONSTRAINT UK_5b1ufubngfek527jhb11aure0 UNIQUE (USERNAME);

ALTER TABLE DASHBOARD_BOX
  ADD CONSTRAINT FK_dgep5oi78i2irrmue308doxrp
FOREIGN KEY (DASHBOARD_ID)
REFERENCES DASHBOARD
  ON DELETE CASCADE;

ALTER TABLE DASHBOARD_BOX
  ADD CONSTRAINT FK_pdct77x9bvtflrsx224gkvhhs
FOREIGN KEY (DASHBOARD_BOX_TYPE_ID)
REFERENCES DASHBOARD_BOX_TYPE
  ON DELETE CASCADE;

ALTER TABLE ADMIN_USER_GROUP_AUTHORITY
  ADD CONSTRAINT FK_g2oc6agyd21kauofcw4sa8is6
FOREIGN KEY (AUTHORITY_ID)
REFERENCES ADMIN_USER_AUTHORITY;

ALTER TABLE ADMIN_USER_GROUP_AUTHORITY
  ADD CONSTRAINT FK_1okphuum9kyftyk65tf6o7r6s
FOREIGN KEY (GROUP_ID)
REFERENCES ADMIN_USER_GROUP;

ALTER TABLE ADMIN_USER_AUTHORITY_USER
  ADD CONSTRAINT FK_dyo9anhb75hbjut13e8uovw2s
FOREIGN KEY (AUTHORITY_ID)
REFERENCES ADMIN_USER_AUTHORITY;

ALTER TABLE ADMIN_USER_AUTHORITY_USER
  ADD CONSTRAINT FK_jbm4yrlayhtksry4mwk0e47ls
FOREIGN KEY (USER_ID)
REFERENCES USER_ACCOUNT;

ALTER TABLE ADMIN_USER_GROUP_USER
  ADD CONSTRAINT FK_4ex9p3ihrxoysn8k46kh965sf
FOREIGN KEY (GROUP_ID)
REFERENCES ADMIN_USER_GROUP;

ALTER TABLE ADMIN_USER_GROUP_USER
  ADD CONSTRAINT FK_3at466hpmis1abruuh3x6nftg
FOREIGN KEY (USER_ID)
REFERENCES USER_ACCOUNT;

ALTER TABLE ADMIN_USER_ROLE_USER
  ADD CONSTRAINT FK_oqmdk7xj0ainhxpvi79fkaq3y
FOREIGN KEY (ROLE_ID)
REFERENCES ADMIN_USER_ROLE;

ALTER TABLE ADMIN_USER_ROLE_USER
  ADD CONSTRAINT FK_j2j8kpywaghe8i36swcxv8784
FOREIGN KEY (USER_ID)
REFERENCES USER_ACCOUNT;
