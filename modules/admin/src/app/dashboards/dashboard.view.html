<breadcrumb></breadcrumb>
<loading-router-outlet></loading-router-outlet>

<div id="dashboard" class="wrapper">
    <router-outlet></router-outlet>

    <md-content class="status container" [dragula]='"status-bag"'>
        <!--<div [ngClass]="boxes.box1">
            <dashboard-box [config]="{
                'type': 'status',
                'name': 'profit',
                'header': '7001 <span>$</span>',
                'sub-head': 'Total profit',
                'icon': 'account_balance_wallet',
                'customData': {
                    'processStatus': 'Progress',
                    'percent': '75'
                }
            }" (resizeBox)="reiszeBox($event, 'box1')"
            ></dashboard-box>
        </div>
        <div [ngClass]="boxes.box2">
            <dashboard-box [config]="{
                'type': 'status',
                'name': 'feedback',
                'header': '1349',
                'sub-head': 'New feedback',
                'icon': 'message',
                'customData': {
                    'processStatus': 'Change',
                    'percent': '35'
                }
            }" (resizeBox)="reiszeBox($event, 'box2')"
            ></dashboard-box>
        </div>
        <div [ngClass]="boxes.box3">
            <dashboard-box [config]="{
                'type': 'status',
                'name': 'orders',
                'header': '1941',
                'sub-head': 'New orders',
                'icon': 'message',
                'customData': {
                    'processStatus': 'Grow',
                    'percent': '60'
                }
            }" (resizeBox)="reiszeBox($event, 'box3')"
            ></dashboard-box>
        </div>
        <div [ngClass]="boxes.box4">
            <dashboard-box [config]="{
                'type': 'status',
                'name': 'users',
                'header': '2184',
                'sub-head': 'New users',
                'icon': 'supervisor_account',
                'customData': {
                    'processStatus': 'Change',
                    'percent': '88'
                }
            }" (resizeBox)="reiszeBox($event, 'box4')"
            ></dashboard-box>
        </div>-->

        <div *ngFor="let item of boxesArr.status | orderby : {key: 'order'}; let i = index; let last = last" [attr.ready]="last ? false : true"
             [ngClass]="boxes['statusBox' + i]" [ngStyle]="{'flex-basis': item.size + '%'}">
            <dashboard-box (resizeBox)="resizeBox($event, 'statusBox' + i, item)" [config]="{
                'type': 'status',
                'name': 'profit',
                'header': '7001 ',
                'subHeader': item.name,
                'width': item.size,
                'icon': 'account_balance_wallet',
                'customData': {
                    'processStatus': 'Progress',
                    'percent': '75'
                }
            }" (removeBox)="removeBox(item['@rid'])"
            ></dashboard-box>
        </div>
    </md-content>
    <md-content class="graphics container" [dragula]='"chart-bag"'>
        <dashboard-box [ngClass]="boxes['chartBox' + 0]" [config]="{
            'type': 'chart',
            'header': 'Revenue',
            'subHeader': 'distance stats...'
        }" (resizeBox)="resizeBox($event, 'chartBox' + 0)"
        ></dashboard-box>
        <dashboard-box [config]="{
            'type': 'chart',
            'header': 'Finance',
            'subHeader': 'distance stats...'
        }"></dashboard-box>
        <dashboard-box [config]="{
            'type': 'chart',
            'header': 'Profit',
            'subHeader': 'distance stats...'
        }"></dashboard-box>
    </md-content>
</div>
