<breadcrumb></breadcrumb>
<loading-router-outlet></loading-router-outlet>

<div id="dashboard" class="wrapper">
    <router-outlet></router-outlet>
    <md-content class="status container" [dragula]='"status-bag"'>
        <div *ngFor="let item of boxesArr | orderby : {key: 'order', direction: 'ascending'}; let i = index; let last = last" class="box"
             [ngClass]="boxes['box' + i]" [ngStyle]="{'flex-basis': item.width + '%'}" attr.data-boxrid="{{item['@rid']}}">

            <dashboard-box [ngClass]="boxes['boxRemove' + i]" class="status" *ngIf="item.typename == 'status'"
                           (resizeBox)="resizeBox($event, 'box' + i, item, i)"
                           [config]="{
                                'type': 'status',
                                'name': 'profit',
                                'header': '7001 ',
                                'subHeader': item.name,
                                'width': item.width,
                                'height': item.height,
                                'icon': 'account_balance_wallet',
                                'customData': {
                                    'processStatus': 'Progress',
                                    'percent': '75'
                                }
                            }" (removeBox)="removeBox(item['@rid'], i, 'boxRemove' + i)"
            ></dashboard-box>
            <dashboard-box class="chart" [ngClass]="boxes['boxRemove' + i]" *ngIf="item.typename == 'chart'" [config]="{
                'type': 'chart',
                'header': item.name,
                'subHeader': item.description,
                'width': item.width,
                'height': item.height
            }" (resizeBox)="resizeBox($event, 'box' + i, item, i)" (removeBox)="removeBox(item['@rid'], i, 'boxRemove' + i)"
            ></dashboard-box>
            <span *ngIf='last'>{{hello(last)}}</span>
        </div>
    </md-content>
</div>
